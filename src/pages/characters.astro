---
import BaseHead from '../components/BaseHead.astro';
import Footer from '../components/Footer.astro';
import Header from '../components/Header.astro';
import { SITE_TITLE } from '../consts';
import { protagonists, antagonists } from '../data/characters';
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={`Characters - ${SITE_TITLE}`} description="Meet the characters of EIDOLWARE" />
	</head>
	<body>
		<Header />
		<main>
			<section class="hero">
				<h1>Characters</h1>
				<p class="subtitle">The players in this twisted digital convention</p>
			</section>

			<section class="character-section">
				<h2>Protagonists</h2>
				<div class="characters-grid">
					{protagonists.map((character) => (
						<a href={`/characters/${character.slug}`} class="character-card">
							<div class="character-image">
								{character.image ? (
									<img src={character.image} alt={character.name} />
								) : (
									<div class="character-placeholder">
										<span>?</span>
									</div>
								)}
							</div>
							<div class="character-info">
								<h3>{character.name}</h3>
								<p class="character-role">{character.role}</p>
								<p class="character-description">{character.description}</p>
							</div>
						</a>
					))}
					{protagonists.length === 0 && (
						<div class="coming-soon">
							<p>Character profiles coming soon...</p>
						</div>
					)}
				</div>
			</section>

			<section class="character-section">
				<h2>Antagonists</h2>
				<div class="characters-grid">
					{antagonists.map((character) => (
						<a href={`/characters/${character.slug}`} class="character-card antagonist">
							<div class="character-image">
								{character.image ? (
									<img src={character.image} alt={character.name} />
								) : (
									<div class="character-placeholder">
										<span>?</span>
									</div>
								)}
							</div>
							<div class="character-info">
								<h3>{character.name}</h3>
								<p class="character-role">{character.role}</p>
								<p class="character-description">{character.description}</p>
							</div>
						</a>
					))}
					{antagonists.length === 0 && (
						<div class="coming-soon">
							<p>Character profiles coming soon...</p>
						</div>
					)}
				</div>
			</section>
		</main>
		<Footer />
	</body>
</html>

<style>
	.hero {
		text-align: center;
		padding: 3rem 0;
		margin-bottom: 3rem;
		border-bottom: 2px solid var(--purple);
	}

	.hero h1 {
		font-size: 3.5rem;
		margin-bottom: 1rem;
	}

	.subtitle {
		font-size: 1.2rem;
		color: rgb(var(--gray));
		margin: 0;
	}

	.character-section {
		margin: 4rem 0;
	}

	.character-section h2 {
		font-size: 2rem;
		margin-bottom: 2rem;
		padding-bottom: 1rem;
		border-bottom: 1px solid var(--purple);
	}

	.characters-grid {
		display: grid;
		grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
		gap: 2.5rem;
	}

	.character-card {
		background-color: rgba(0, 0, 0, 0.5);
		border: 1px solid var(--purple);
		border-radius: 8px;
		padding: 1.5rem;
		display: block;
	text-decoration: none;
	color: inherit;
	cursor: pointer;
	transition: all 0.3s ease;
	}

	.character-card:hover {
		border-color: var(--cyan);
		box-shadow: 0 0 20px rgba(177, 255, 236, 0.2);
		transform: translateY(-4px);
	}

	.character-card.antagonist {
		border-color: #8b0000;
	}

	.character-card.antagonist:hover {
		border-color: #ff4444;
		box-shadow: 0 0 20px rgba(255, 68, 68, 0.3);
	}

	.character-image {
		width: 100%;
		aspect-ratio: 1;
		margin-bottom: 1.5rem;
		border-radius: 8px;
		overflow: hidden;
	}

	.character-image img {
		width: 100%;
		height: 100%;
		object-fit: cover;
		border: 2px solid var(--purple);
		border-radius: 8px;
		transition: all 0.3s ease;
	}

	.character-card:hover .character-image img {
		border-color: var(--cyan);
		box-shadow: 0 0 15px rgba(177, 255, 236, 0.4);
	}

	.character-card.antagonist .character-image img {
		border-color: #8b0000;
	}

	.character-card.antagonist:hover .character-image img {
		border-color: #ff4444;
		box-shadow: 0 0 15px rgba(255, 68, 68, 0.4);
	}

	.character-placeholder {
		width: 100%;
		height: 100%;
		background: linear-gradient(135deg, var(--purple-dark) 0%, var(--purple) 100%);
		border-radius: 8px;
		display: flex;
		align-items: center;
		justify-content: center;
		border: 2px solid var(--purple);
		position: relative;
		overflow: hidden;
	}

	.character-card.antagonist .character-placeholder {
		background: linear-gradient(135deg, #8b0000 0%, #4d0000 100%);
		border-color: #8b0000;
	}

	.character-placeholder::before {
		content: '';
		position: absolute;
		top: -50%;
		left: -50%;
		width: 200%;
		height: 200%;
		background: linear-gradient(
			45deg,
			transparent 30%,
			rgba(177, 255, 236, 0.1) 50%,
			transparent 70%
		);
		animation: shine 3s infinite;
	}

	@keyframes shine {
		0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
		100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
	}

	.character-placeholder span {
		font-size: 5rem;
		font-family: "Orbitron", sans-serif;
		color: var(--cyan);
		text-shadow: var(--glow-cyan);
		z-index: 1;
	}

	.character-card.antagonist .character-placeholder span {
		color: #ff4444;
		text-shadow: 0 0 10px rgba(255, 68, 68, 0.8),
			0 0 20px rgba(255, 68, 68, 0.6),
			0 0 30px rgba(255, 68, 68, 0.4);
	}

	.character-info h3 {
		font-size: 1.5rem;
		margin-bottom: 0.5rem;
		color: var(--cyan);
	}

	.character-card.antagonist .character-info h3 {
		color: #ff4444;
	}

	.character-role {
		font-size: 0.9rem;
		color: var(--accent);
		text-transform: uppercase;
		letter-spacing: 0.1em;
		margin-bottom: 1rem;
		font-weight: 600;
	}

	.character-card.antagonist .character-role {
		color: #ff8888;
	}

	.character-description {
		color: rgb(var(--gray-dark));
		line-height: 1.6;
		margin: 0;
	}

	.coming-soon {
		grid-column: 1 / -1
		text-align: center;
		padding: 3rem;
		background-color: rgba(0, 0, 0, 0.3);
		border: 1px dashed var(--purple);
		border-radius: 8px;
	}

	.coming-soon p {
		font-size: 1.2rem;
		color: rgb(var(--gray));
		margin: 0;
		font-style: italic;
	}

	@media (max-width: 720px) {
		.hero h1 {
			font-size: 2.5rem;
		}

		.characters-grid {
			grid-template-columns: 1fr;
		}

		.character-placeholder span {
			font-size: 3rem;
		}
	}
</style>
